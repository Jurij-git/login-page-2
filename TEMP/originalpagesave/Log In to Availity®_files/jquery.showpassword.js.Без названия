(function(a){a.fn.extend({showPassword:function(b,c){return this.each(function(){function j(b){var c=a(b);return type=d.attr("type").toLowerCase()=="text"?"password":"text",i=a("<input type='"+type+"' />"),i.attr({"class":d.attr("class"),style:d.attr("style"),size:d.attr("size"),maxlength:d.attr("maxlength"),name:d.attr("name")+"-"+type,tabindex:d.attr("tabindex")}),i}var d=a(this),e={input:d},f=a(b.checkbox),i=j(d);e.clone=i,i.insertAfter(d);var k=function(a,b){b.val(a.val())},l=function(){f.is(":checked")?(k(d,i),i.show(),d.hide()):(k(i,d),i.hide(),d.show())};f.bind("click",function(){l()}),d.bind("keyup",function(){k(d,i)}),i.bind("keyup",function(){k(i,d),d.trigger("keyup")}),i.bind("blur",function(){d.trigger("focusout")}),l(),c&&c(e)})}})})(jQuery);